
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local KeyLink = "https://work.ink/4uN/test"

setclipboard(KeyLink)

local Window = Rayfield:CreateWindow({
    Name = "Key System",
    LoadingTitle = "Verification",
    LoadingSubtitle = "Work.Ink",
    ConfigurationSaving = {
        Enabled = false
    },
    Discord = {
        Enabled = false
    },
    KeySystem = false
})

local KeyPage = Window:CreateTab("Key Login", 4483362458)

local UserKey = ""
KeyPage:CreateInput({
    Name = "Enter Key",
    PlaceholderText = "Paste your key here",
    RemoveTextAfterFocusLost = false,
    Callback = function(value)
        UserKey = value
    end
})

KeyPage:CreateButton({
    Name = "Copy Key Link",
    Callback = function()
        setclipboard(KeyLink)
        Rayfield:Notify({
            Title = "Copied!",
            Content = "Key link copied to clipboard.",
            Duration = 3
        })
    end
})

KeyPage:CreateButton({
    Name = "Verify Key",
    Callback = function()
        if UserKey == "" then
            Rayfield:Notify({
                Title = "Error",
                Content = "You must enter a key!",
                Duration = 3
            })
            return
        end
        
        local url = "https://work.ink/_api/v2/token/isValid/"..UserKey
        local response = syn and syn.request or request or http_request

        local result = response({
            Url = url,
            Method = "GET"
        })

        local decoded
        pcall(function()
            decoded = game:GetService("HttpService"):JSONDecode(result.Body)
        end)

        if decoded and decoded.valid == true then
            Rayfield:Notify({
                Title = "Success",
                Content = "Key is valid!",
                Duration = 3
            })

            task.wait(1)
            Rayfield:Destroy() -- closes UI

            loadstring(game:HttpGet("https://raw.githubusercontent.com/Death-Script-Hub/DeathScript/refs/heads/main/lua"))()

        else
            Rayfield:Notify({
                Title = "Invalid",
                Content = "Key is incorrect!",
                Duration = 3
            })
        end
    end
})
